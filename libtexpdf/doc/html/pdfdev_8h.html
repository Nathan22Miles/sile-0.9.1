<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>libtexpdf: pdfdev.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libtexpdf
   </div>
   <div id="projectbrief">A PDF Creation Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pdfdev.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main PDF manipulation functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;numbers.h&quot;</code><br />
<code>#include &quot;pdfobj.h&quot;</code><br />
<code>#include &quot;<a class="el" href="pdfcolor_8h.html">pdfcolor.h</a>&quot;</code><br />
<code>#include &quot;pdftypes.h&quot;</code><br />
<code>#include &quot;pdfdoc.h&quot;</code><br />
<code>#include &quot;fontmap.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad04656e83bc17a61b548e40eb9b9cbb4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad04656e83bc17a61b548e40eb9b9cbb4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdfdev_8h.html#ad04656e83bc17a61b548e40eb9b9cbb4">texpdf_dev_set_verbose</a> (void)</td></tr>
<tr class="memdesc:ad04656e83bc17a61b548e40eb9b9cbb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase verbosity. <br /></td></tr>
<tr class="separator:ad04656e83bc17a61b548e40eb9b9cbb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201581d7f3ab136d2a370e9e5ec1e722"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdfdev_8h.html#a201581d7f3ab136d2a370e9e5ec1e722">texpdf_init_device</a> (pdf_doc *p, double unit_conv, int precision, int is_bw)</td></tr>
<tr class="memdesc:a201581d7f3ab136d2a370e9e5ec1e722"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise output.  <a href="#a201581d7f3ab136d2a370e9e5ec1e722">More...</a><br /></td></tr>
<tr class="separator:a201581d7f3ab136d2a370e9e5ec1e722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cbfacf40b44dbcb64099561d1126498"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdfdev_8h.html#a8cbfacf40b44dbcb64099561d1126498">texpdf_close_device</a> (void)</td></tr>
<tr class="memdesc:a8cbfacf40b44dbcb64099561d1126498"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close output.  <a href="#a8cbfacf40b44dbcb64099561d1126498">More...</a><br /></td></tr>
<tr class="separator:a8cbfacf40b44dbcb64099561d1126498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace2440f114f9bea7659e62369701b0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdfdev_8h.html#aace2440f114f9bea7659e62369701b0c">texpdf_dev_set_string</a> (pdf_doc *p, spt_t xpos, spt_t ypos, const void *instr_ptr, int instr_len, spt_t text_width, int font_id, int ctype)</td></tr>
<tr class="memdesc:aace2440f114f9bea7659e62369701b0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output a string of text to the page.  <a href="#aace2440f114f9bea7659e62369701b0c">More...</a><br /></td></tr>
<tr class="separator:aace2440f114f9bea7659e62369701b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2743f0ae36269663c41de531ff266a48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdfdev_8h.html#a2743f0ae36269663c41de531ff266a48">texpdf_dev_set_rule</a> (pdf_doc *p, spt_t xpos, spt_t ypos, spt_t width, spt_t height)</td></tr>
<tr class="memdesc:a2743f0ae36269663c41de531ff266a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output a line to the page.  <a href="#a2743f0ae36269663c41de531ff266a48">More...</a><br /></td></tr>
<tr class="separator:a2743f0ae36269663c41de531ff266a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6cf022d39029b58334ecd8502dc1da8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdfdev_8h.html#af6cf022d39029b58334ecd8502dc1da8">texpdf_dev_put_image</a> (pdf_doc *doc, int xobj_id, transform_info *p, double ref_x, double ref_y, int track_boxes)</td></tr>
<tr class="memdesc:af6cf022d39029b58334ecd8502dc1da8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Place an xobject (image) onto the page.  <a href="#af6cf022d39029b58334ecd8502dc1da8">More...</a><br /></td></tr>
<tr class="separator:af6cf022d39029b58334ecd8502dc1da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main PDF manipulation functions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8cbfacf40b44dbcb64099561d1126498"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void texpdf_close_device </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close output. </p>
<p>This should be the last thing you do when writing the PDF file. </p>

</div>
</div>
<a class="anchor" id="af6cf022d39029b58334ecd8502dc1da8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int texpdf_dev_put_image </td>
          <td>(</td>
          <td class="paramtype">pdf_doc *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xobj_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">transform_info *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ref_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ref_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>track_boxes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Place an xobject (image) onto the page. </p>
<p>This is the code you will use for putting an image to the page; the image must first be loaded into the PDF catalogue as an xobject using the texpdf_ximage_findresource() function. The value returned from texpdf_ximage_findresource() should be supplied as the <code>xobj_id</code>.</p>
<p>The <code>transform_info</code> object should contain the image's width and height, as well as any other transformations to be applied; <code>track_boxes</code> should be zero unless you happen to be dvipdfm. </p>

</div>
</div>
<a class="anchor" id="a2743f0ae36269663c41de531ff266a48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void texpdf_dev_set_rule </td>
          <td>(</td>
          <td class="paramtype">pdf_doc *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spt_t&#160;</td>
          <td class="paramname"><em>xpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spt_t&#160;</td>
          <td class="paramname"><em>ypos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spt_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spt_t&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output a line to the page. </p>
<p>This outputs a line in the current stoke and fill colors (see <a class="el" href="pdfcolor_8h.html" title="PDF Color handling functions. ">pdfcolor.h</a>). The X and Y positions, as well as the width and height, are expected to be in scaled units. </p>

</div>
</div>
<a class="anchor" id="aace2440f114f9bea7659e62369701b0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void texpdf_dev_set_string </td>
          <td>(</td>
          <td class="paramtype">pdf_doc *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spt_t&#160;</td>
          <td class="paramname"><em>xpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spt_t&#160;</td>
          <td class="paramname"><em>ypos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>instr_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>instr_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spt_t&#160;</td>
          <td class="paramname"><em>text_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>font_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ctype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output a string of text to the page. </p>
<p>As mentioned above, the <code>xpos</code> and <code>ypos</code> coordinates to the drawing functions are expected to be scaled by the <code>unit_conv</code> setting. <code>instr_ptr</code> is a pointer to the byte string to be written and <code>instr_len</code> to its byte length.</p>
<p><code>text_width</code> is not only expected to be scaled by <code>unit_conv</code>, but it is also expected to be multiplied by the <code>extend</code> value of the font face. In other words, if you are setting unstretched text with a TeX-style <code>unit_conv</code> scale factor of 65536, then the <code>text_width</code> should be <code>width_in_pts * 65536 * 65536</code>.</p>
<p><code>font_id</code> is an ID returned by <code>texpdf_dev_load_native_font</code> below.</p>
<p>Values of <code>ctype</code>: </p><pre class="fragment"> 0 - input string is in multi-byte encoding.
 1 - input string is in 8-bit encoding.
 2 - input string is in 16-bit encoding.
-1 - input buffer is a stream of two-byte glyph indices</pre> 
</div>
</div>
<a class="anchor" id="a201581d7f3ab136d2a370e9e5ec1e722"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void texpdf_init_device </td>
          <td>(</td>
          <td class="paramtype">pdf_doc *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>unit_conv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>precision</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_bw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise output. </p>
<p>This sets output-related parameters for the supplied PDF document.</p>
<p><code>unit_conv</code> is the scale multiplier for converting between scaled points (<code>spt_t</code>, the unit used as input to many of the manipulation functions) and physical "big points" (1/72in). As <code>spt_t</code> is an integer type and manipulations are done on an integer basis of <code>spt_t</code>s, the effect of this parameter is to set the granularity of measurements. Setting this to 1, for instance, means that all measurements are interpreted to an integer number of points; setting it to 100 means that that all measurements are interpreted as a hundredth of a point.</p>
<p>As an example, this library has its genesis in TeX, which uses integer math for everything. TeX's internal calculations were done on the basis of 65536 "scaled 
points" to one printer's point; therefore, when interpreting TeX's output, you would set <code>unit_conv</code> to 65536.</p>
<p>Remember this multiplier when you come to provide coordinates and sizes to drawing functions!</p>
<p><code>precision</code>, on the other hand` is the number of decimal places preserved in the PDF output. The maximum value is 8.</p>
<p><code>is_bw</code> is a flag which, if set to true, will cause all color-related commands to be ignored. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 30 2014 21:17:43 for libtexpdf by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
